<app-menu></app-menu><div class="p-4" *ngIf="request">
  <h2>Review Request</h2>
  <table class="table table-sm table-bordered mt-3">
    <thead>
      <tr>
        <th>ID</th>
        <th>Description</th>
        <th>Status</th>
        <th>Total</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>{{ request.id }}</td>
        <td>{{ request.description }}</td>
        <td>{{ request.status }}</td>
        <td>{{ request.total | currency }}</td>
      </tr>
    </tbody>
  </table>

  <h5 class="mt-4">Line Items:</h5>
  <table class="table table-striped table-hover">
    <thead>
      <tr>
        <th>ID</th>
        <th>Product</th>
        <th>Quantity</th>
        <th>Price</th>
        <th>Line Total</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let li of lineItems">
        <td>{{ li.id }}</td>
        <td>{{ li.product?.name }}</td>
        <td>{{ li.quantity }}</td>
        <td>{{ li.product?.price | currency }}</td>
        <td>{{ (li.quantity ?? 0) * (li.product?.price ?? 0) | currency }}</td>
      </tr>
    </tbody>
  </table>

  <div class="mb-3">
    <label for="reason" class="form-label">Reason for Rejection:</label>
    <textarea id="reason" [(ngModel)]="rejectionReason" rows="3" class="form-control"></textarea>
  </div>

  <button class="btn btn-success me-2" (click)="approve()">Approve</button>
  <button class="btn btn-danger" [disabled]="rejectionReason.trim().length === 0" (click)="reject()">Reject</button>
</div> <!-- âœ… closes the main container opened at the top -->
